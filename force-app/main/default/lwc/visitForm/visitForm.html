<template>

    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">

            <!-- HEADER -->
            <header class="slds-modal__header">
                <lightning-button-icon icon-name="utility:close" alternative-text="close" class="slds-modal__close"
                    onclick={handleCancel}>
                </lightning-button-icon>

                <h2 class="slds-text-heading_medium">
                    Create Visit Form
                </h2>
            </header>


            <!-- BODY -->
            <div class="slds-modal__content slds-p-around_medium">

                <!-- Record Type Selection -->
                <template if:false={showForm}>
                    <div style="Padding-bottom:90px">
                        <lightning-combobox name="recordType" label="Select Record Type" value={selectedRecordTypeId}
                            placeholder="Select Record Type" options={recordTypeOptions}
                            onchange={handleRecordTypeChange}>
                        </lightning-combobox>
                    </div>
                </template>


                <!-- Record Form -->
                <template if:true={showForm}>

                    <lightning-record-form object-api-name="Visit_Form__c" record-type-id={selectedRecordTypeId}
                        layout-type="Full" mode="edit" onsuccess={handleSuccess} oncancel={handleCancel}>
                    </lightning-record-form>

                </template>

            </div>

        </div>
    </section>

    <div class="slds-backdrop slds-backdrop_open"></div>

</template>